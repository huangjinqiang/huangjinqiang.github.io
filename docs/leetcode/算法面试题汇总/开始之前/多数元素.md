---
title: 多数元素[leetcode]
date: 2021-06-12
tags:
  - leetcode
categories:
  - leetcode
permalink: /leetcode/top-interview-questions/xm77tm/
---

[多数元素](https://leetcode-cn.com/leetbook/read/top-interview-questions/xm77tm/)


### 题意
* 多数元素：出现次数超过数组长度的一半
* 具有线性时间复杂度，不使用额外空间

### 分析
* 多数元素一定存在，可以把题目看成投票选举，一定会有一个lucky dog得到超过一半的票数当选
  * 在所有的选票中，投给lucky dog的有m张，剩余的n张投给了其他人
  * 即lucky dog，有m张支持票，n张反对票
  * 且 ```m > n```
* 遍历数组
  * 如果当前candidate的票数为0，则重置当前的candidate，票数为1
  * 否则
    * 每一票要么是支持当前的candidate，票数 + 1
    * 要么是反对当前的candidate，票数 - 1
  * lucky dog就是最后存活的candidate

### 代码
```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var majorityElement = function(nums) {
  let candidate = ''
  let count = 0

  nums.forEach((v) => {
    if (count === 0) { // 初始化或者此时支持反对票持平
      count = 1
      candidate = v
    } else if (candidate === v) { // 收获一个支持票
      count += 1
    } else { // 收获一个反对票
      count -= 1
    }
  })

  return candidate
}
```
