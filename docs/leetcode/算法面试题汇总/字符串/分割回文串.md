---
title: 分割回文串[leetcode]
date: 2021-06-20
tags:
  - leetcode
  - 字符串
categories:
  - leetcode
permalink: /leetcode/top-interview-questions/xaxi62/
---

[分割回文串](https://leetcode-cn.com/leetbook/read/top-interview-questions/xaxi62/)


### 题意
* 仅由小写英文字母组成
* 将 s 分割成一些子串，使每个子串都是 回文串
* 返回 s 所有可能的分割方案

### 准备工作
* 既然限制了只有小写字母，先写个简单的回文判断函数
* 要所有分割方案，需要回溯判断，可以打表做缓存
```js
/**
 * @param {string} s
 * @return {boolean}
 */
var _isPalindrome = function(s) {
  let start = 0
  let end = s.length - 1
  while (start < end) {
    if (s[start] !== s[end]) return false

    start += 1
    end -= 1
  }

  return true
}

var map = {}
/**
 * @param {string} s
 * @return {boolean}
 */
var isPalindrome = function(s) {
  // 是否回文串，都做缓存
  if (map[s] === undefined) {
    map[s] = s.length < 2
      ? true
      : _isPalindrome(s)
  }

  return map[s]
}
```

### 分析
* 暴力深搜

### 代码
```js
/**
 * @param {string} s
 * @return {string[][]}
 */
var partition = function(s) {
  const { length } = s
  if (length < 2) return [[s]]

  const res = []

  let curr = []
  function search(start) {
    for (let i = start; i < length; i += 1) {
      const pattern = s.slice(start, i + 1)

      if (isPalindrome(pattern)) {
        curr.push(pattern)

        if (i === length - 1) {
          res.push([...curr])
        } else {
          search(i + 1)
        }

        curr.pop()
      }
    }
  }

  search(0)

  return res
};
```
